
set -o vi                                                # VI editing mode

alias vim='nvim'
alias dvim='dtach -A /tmp/nvim.socket -r winch nvim'
alias dnvim='dtach -A /tmp/nvim.socket -r winch nvim'
alias ls='ls --color=auto'

HISTSIZE=5000                                            # Number of history lines kept in memory
SAVEHIST=5000                                            # Number of history lines saved to disk
HISTFILE=~/.zsh_history                                  # File where history is saved
setopt appendhistory                                     # Append new history lines to the history file instead of overwriting
setopt sharehistory                                      # Share history across multiple terminals
setopt incappendhistory                                  # Append history immediately, not just on shell exit

setopt interactive_comments                              # Allow comments in the interactive shell

autoload -U up-line-or-beginning-search
autoload -U down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey "^[[A" up-line-or-beginning-search
bindkey "^[OA" up-line-or-beginning-search
bindkey "^[[B" down-line-or-beginning-search
bindkey "^[OB" down-line-or-beginning-search

setopt PROMPT_SUBST
format_current_git_branch() {
  local branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
  if [[ -n $branch ]]; then
    echo "($branch)"
  fi
}
PROMPT='%F{green}%n@%m%f %F{blue}%~%f $(format_current_git_branch) %# '

# Termina emulator colors: Copied from vim gruvbox color scheme
# colors.bg0               terminal_color_0       #282828
# colors.neutral_red       terminal_color_1       #cc241d
# colors.neutral_green     terminal_color_2       #98971a
# colors.neutral_yellow    terminal_color_3       #d79921
# colors.neutral_blue      terminal_color_4       #458588
# colors.neutral_purple    terminal_color_5       #b16286
# colors.neutral_aqua      terminal_color_6       #689d6a
# colors.fg4               terminal_color_7       #a89984
# colors.gray              terminal_color_8       #928374
# colors.red               terminal_color_9       #fb4934
# colors.green             terminal_color_10      #b8bb26
# colors.yellow            terminal_color_11      #fabd2f
# colors.blue              terminal_color_12      #83a598
# colors.purple            terminal_color_13      #d3869b
# colors.aqua              terminal_color_14      #8ec07c
# colors.fg1               terminal_color_15      #ebdbb2

